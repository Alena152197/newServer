# –ß–µ–∫-–ª–∏—Å—Ç –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ –∫ –¥–µ–ø–ª–æ—é –Ω–∞ VPS

## ‚úÖ –ß—Ç–æ —É–∂–µ –≥–æ—Ç–æ–≤–æ:

- [x] –ö–æ–¥ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –Ω–∞–ø–∏—Å–∞–Ω –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç –ª–æ–∫–∞–ª—å–Ω–æ
- [x] –†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π —Å–æ–∑–¥–∞–Ω –Ω–∞ GitHub: `https://github.com/Alena152197/newServer.git`
- [x] –ö–æ–¥ –∑–∞–≥—Ä—É–∂–µ–Ω –≤ GitHub
- [x] `.env.example` —Ñ–∞–π–ª —Å–æ–∑–¥–∞–Ω —Å –ø—Ä–∏–º–µ—Ä–æ–º –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
- [x] `.gitignore` –Ω–∞—Å—Ç—Ä–æ–µ–Ω (`.env`, `.tmp/`, `*.sqlite` –∏—Å–∫–ª—é—á–µ–Ω—ã)
- [x] –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –ø—Ä–æ–ø–∏—Å–∞–Ω—ã –≤ `go.mod` –∏ `go.sum`
- [x] –ú–∏–≥—Ä–∞—Ü–∏–∏ —Å–æ–∑–¥–∞–Ω—ã (`001_create_tables.sql`, `002_add_indexes.sql`)
- [x] Dockerfile —Å–æ–∑–¥–∞–Ω
- [x] –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –¥–µ–ø–ª–æ—é —Å–æ–∑–¥–∞–Ω–∞ (`DEPLOY_VPS.md`)

## ‚ö†Ô∏è –ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å –Ω–∞ VPS:

### 1. –°–æ–∑–¥–∞—Ç—å `.env` —Ñ–∞–π–ª

–ù–∞ —Å–µ—Ä–≤–µ—Ä–µ –ø–æ—Å–ª–µ –∫–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è:

```bash
cd /opt/server_new
cp .env.example .env
nano .env
```

**–í–∞–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å:**
- `JWT_SECRET` - –Ω–∞ —Å–ª—É—á–∞–π–Ω—ã–π –¥–ª–∏–Ω–Ω—ã–π –∫–ª—é—á (–¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏!)
- `ALLOWED_ORIGINS` - –Ω–∞ –≤–∞—à —Ä–µ–∞–ª—å–Ω—ã–π –¥–æ–º–µ–Ω/–¥–æ–º–µ–Ω—ã

### 2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –ø—Ä–∞–≤–∞

```bash
# –°–æ–∑–¥–∞—Ç—å –ø–∞–ø–∫–∏ –¥–æ –∑–∞–ø—É—Å–∫–∞ —Å–µ—Ä–≤–∏—Å–∞
sudo mkdir -p /opt/server_new/.tmp
sudo mkdir -p /opt/server_new/uploads

# –î–∞—Ç—å –ø—Ä–∞–≤–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é www-data
sudo chown -R www-data:www-data /opt/server_new
```

### 3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤–µ—Ä—Å–∏—é Go

–ù–∞ —Å–µ—Ä–≤–µ—Ä–µ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞ Go 1.23:
```bash
go version
# –î–æ–ª–∂–Ω–æ –ø–æ–∫–∞–∑–∞—Ç—å: go version go1.23.x linux/amd64
```

### 4. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

```bash
cd /opt/server_new
go mod download
go build -o server_new .
```

## üîß –í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã –∏ —Ä–µ—à–µ–Ω–∏—è:

### –ü—Ä–æ–±–ª–µ–º–∞: "permission denied" –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –ø–∞–ø–∫–∏

**–†–µ—à–µ–Ω–∏–µ:** –°–æ–∑–¥–∞—Ç—å –ø–∞–ø–∫–∏ –∑–∞—Ä–∞–Ω–µ–µ —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ –ø—Ä–∞–≤–∞–º–∏ (—Å–º. –ø—É–Ω–∫—Ç 2 –≤—ã—à–µ)

### –ü—Ä–æ–±–ª–µ–º–∞: "go.mod requires go >= 1.23"

**–†–µ—à–µ–Ω–∏–µ:** –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Go 1.23 –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ (–Ω–µ 1.25!)

### –ü—Ä–æ–±–ª–µ–º–∞: "JWT_SECRET is empty"

**–†–µ—à–µ–Ω–∏–µ:** –°–æ–∑–¥–∞—Ç—å `.env` —Ñ–∞–π–ª –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ —Å –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π `JWT_SECRET`

### –ü—Ä–æ–±–ª–µ–º–∞: –§–∞–π–ª—ã –Ω–µ –∫–ª–æ–Ω–∏—Ä—É—é—Ç—Å—è

**–†–µ—à–µ–Ω–∏–µ:** –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –∫–æ–¥ –∑–∞–ø—É—à–µ–Ω –≤ GitHub:
```powershell
# –ù–∞ Windows
cd C:\projects\server_new
git push -u origin master
# –∏–ª–∏
git push -u origin main
```

## üìã –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –Ω–∞ VPS:

- Ubuntu/Debian Linux
- –î–æ—Å—Ç—É–ø –ø–æ SSH
- –ú–∏–Ω–∏–º—É–º 512MB RAM (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è 1GB+)
- –ú–∏–Ω–∏–º—É–º 5GB –¥–∏—Å–∫–æ–≤–æ–≥–æ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–∞
- –û—Ç–∫—Ä—ã—Ç—ã–µ –ø–æ—Ä—Ç—ã: 22 (SSH), 80 (HTTP), 443 (HTTPS)

## üöÄ –ü–æ—Ä—è–¥–æ–∫ –¥–µ–π—Å—Ç–≤–∏–π –Ω–∞ VPS:

1. –ü–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –ø–æ SSH
2. –í—ã–ø–æ–ª–Ω–∏—Ç—å —à–∞–≥–∏ –∏–∑ `DEPLOY_VPS.md`
3. –°–æ–∑–¥–∞—Ç—å `.env` —Ñ–∞–π–ª –∏–∑ `.env.example`
4. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –ø—Ä–∞–≤–∞ –Ω–∞ –ø–∞–ø–∫–∏
5. –ó–∞–ø—É—Å—Ç–∏—Ç—å —Å–µ—Ä–≤–∏—Å
6. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å Nginx
7. –ü–æ–ª—É—á–∏—Ç—å SSL (–µ—Å–ª–∏ –µ—Å—Ç—å –¥–æ–º–µ–Ω)

---

**–í—Å—ë –≥–æ—Ç–æ–≤–æ –∫ –¥–µ–ø–ª–æ—é!** –°–ª–µ–¥—É–π—Ç–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –≤ `DEPLOY_VPS.md`.
